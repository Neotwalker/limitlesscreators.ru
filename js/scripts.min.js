"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".cookies"),t=document.querySelector(".cookies--button");e&&t&&(localStorage.getItem("cookieConsent")||e.classList.add("active"),t.addEventListener("click",(()=>{localStorage.setItem("cookieConsent","true"),e.classList.remove("active")})));const s=document.querySelector(".header"),o=document.querySelector(".top"),c=document.querySelector(".modal"),i=document.querySelector(".modal--send"),n=window.innerWidth-document.documentElement.clientWidth,a=document.querySelector(".burger"),l=document.querySelector(".header--menu"),r=document.querySelector(".header--menu .menu");if(s&&o){const q=()=>{s.classList.toggle("scroll",window.scrollY>40),o.classList.toggle("scroll",window.scrollY>500)};q(),window.addEventListener("load",q),window.addEventListener("scroll",q),o.addEventListener("click",(()=>window.scrollTo({top:0,behavior:"smooth"})))}function d(){a.classList.remove("active"),l.classList.remove("open"),r.classList.remove("active"),c?.classList.contains("active")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight=""),window.innerWidth<=1200&&document.querySelectorAll(".sub-menu").forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")}))}function u(e,t){if(window.innerWidth>1200)return e.classList.toggle("active"),void t.classList.toggle("active");const s=e.classList.contains("active"),o=t.closest(".sub-menu"),c=o?o.querySelectorAll(".sub-menu.active"):r.querySelectorAll(".sub-menu.active"),i=o?o.querySelectorAll(".menu-item-has-children.active"):r.querySelectorAll(".menu-item-has-children.active");c.forEach((e=>e.classList.remove("active"))),i.forEach((e=>e.classList.remove("active"))),e.classList.toggle("active",!s),t.classList.toggle("active",!s)}if(a&&l&&r&&s){function S(){document.querySelectorAll(".header--menu .menu-item-has-children").forEach((e=>{e.removeEventListener("pointerdown",A),window.innerWidth<=1200&&e.addEventListener("pointerdown",A)}))}function A(e){const t=e.target,s=this.querySelector(":scope > a"),o=this.querySelector(":scope > .sub-menu");if(s&&(t===s||s.contains(t)))return o&&!o.classList.contains("active")?(e.preventDefault(),e.stopPropagation(),void u(o,this)):void 0;o&&(e.preventDefault(),e.stopPropagation(),u(o,this))}a.addEventListener("click",(e=>{e.stopPropagation(),function(){const e=!l.classList.contains("open");l.classList.toggle("open"),a.classList.toggle("active"),r.classList.toggle("active",e),e?(document.documentElement.classList.add("overflow"),n>0&&(s.style.paddingRight=`${n}px`,document.body.style.paddingRight=`${n}px`)):c?.classList.contains("active")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight=""),window.innerWidth<=1200&&document.querySelectorAll(".sub-menu").forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")}))}()})),document.querySelectorAll(".header--menu .menu li a").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation();const s=e.getAttribute("href");s&&(s.startsWith("#"),d())}))})),S(),window.addEventListener("resize",(()=>{S(),window.innerWidth>1200?(document.querySelectorAll(".sub-menu.active").forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")})),r.classList.remove("active")):l.classList.contains("open")&&r.classList.add("active")}))}c&&s&&(document.querySelectorAll(".modal--open").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".modal--general")?.classList.add("active"),document.documentElement.classList.add("overflow"),n>0&&(s.style.paddingRight=`${n}px`,document.body.style.paddingRight=`${n}px`)}))})),document.querySelectorAll(".modal--close").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),c.classList.remove("active"),i?.classList.remove("active"),l?.classList.contains("open")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight="")}))}))),document.addEventListener("click",(e=>{!c?.classList.contains("active")||e.target.closest(".modal--open")||e.target.closest(".modal .modal--wrapper")||e.target.closest(".modal .modal--close")||(c.classList.remove("active"),i?.classList.remove("active"),l?.classList.contains("open")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight="")),!a?.classList.contains("active")||e.target.closest(".header--menu")||e.target.closest(".burger")||e.target.closest(".modal")||d(),window.innerWidth<=1200&&l?.classList.contains("open")&&!e.target.closest(".header--menu")&&!e.target.closest(".modal")&&document.querySelectorAll(".sub-menu.active").forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")}))}));document.querySelectorAll('input[name="fio"], input[name="fio1"]').forEach((e=>{e.addEventListener("keyup",(()=>{e.value=e.value.replace(/http|https|url|www|\.net|\.ru|\.com|[0-9]/gi,"")}))}));const m=document.querySelectorAll(".wpcf7-tel"),v=e=>{const t=e.target,s=t.dataset.phoneClear,o=t.dataset.phonePattern||"+_(___) ___-__-__",c=o.replace(/\D/g,"");let i=t.value.replace(/\D/g,"");if("false"!==s&&"blur"===e.type&&i.length<o.match(/[\_\d]/g).length)return void(t.value="");c.length>=i.length&&(i=c);let n=0;t.value=o.replace(/./g,(e=>/[_\d]/.test(e)&&n<i.length?i.charAt(n++):n>=i.length?"":e))};m.forEach((e=>["input","blur","focus"].forEach((t=>e.addEventListener(t,v)))));const h=(e,t)=>{const s=document.getElementById(e),o=document.querySelector(t);s&&o&&(o.setAttribute("disabled","disabled"),s.addEventListener("change",(()=>{o.toggleAttribute("disabled",!s.checked)})))};h("check",".modal--general button"),h("check1",".main--contacts__left form button"),document.querySelectorAll(".wpcf7-form").forEach((e=>{e.addEventListener("submit",(()=>{document.addEventListener("wpcf7mailsent",(t=>{e.querySelector(".cf7sg-response-output")?.style.setProperty("display","none"),document.querySelectorAll(".modal").forEach((e=>e.classList.remove("active"))),i&&(i.classList.add("active"),setTimeout((()=>{i.classList.remove("active"),l?.classList.contains("open")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight="")}),5e3)),e.querySelector(".wpcf7-submit")?.setAttribute("disabled","disabled"),e.reset()}),{once:!0})}))})),window.innerWidth<=768&&document.querySelectorAll(".footer--menu").forEach(((e,t)=>{const s=e.querySelector(".h3"),o=e.querySelector(".menu");s&&o&&(0===t&&(e.classList.add("active"),o.style.maxHeight=`${o.scrollHeight}px`),s.addEventListener("click",(()=>{document.querySelectorAll(".footer--menu").forEach((t=>{t!==e&&(t.classList.remove("active"),t.querySelector(".menu").style.maxHeight=null)})),e.classList.toggle("active"),o.style.maxHeight=e.classList.contains("active")?`${o.scrollHeight}px`:null})))}));const g=document.querySelectorAll(".main--cases__tags .tag"),L=document.querySelectorAll(".main--cases__block");g.length&&L.length&&g.forEach((e=>{e.addEventListener("click",(()=>{g.forEach((e=>e.classList.remove("active"))),e.classList.add("active");const t=e.getAttribute("data-filter");L.forEach(((e,s)=>{e.classList.toggle("active","*"===t?0===s:e.getAttribute("data-type")===t)}))}))}));((e,t,s)=>{const o=document.querySelectorAll(e);if(!o.length)return;const c=o[0],i=c.querySelector(t),n=c.querySelector(s);i&&n&&(c.classList.add("active"),i.classList.add("active"),c.dataset.open="true",n.style.maxHeight=`${n.scrollHeight}px`);o.forEach((e=>{const c=e.querySelector(t),i=e.querySelector(s);c&&i&&(c.addEventListener("click",(()=>{const n="true"===e.dataset.open;o.forEach((o=>{o!==e&&(o.dataset.open="false",o.classList.remove("active"),o.querySelector(t)?.classList.remove("active"),o.querySelector(s).style.maxHeight="")})),e.dataset.open=n?"false":"true",e.classList.toggle("active",!n),c.classList.toggle("active",!n),i.style.maxHeight=n?"":`${i.scrollHeight}px`,n||setTimeout((()=>{const t=e.getBoundingClientRect();if(!(t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight))){const e=(()=>{const e=document.querySelector(".header");return e?e.offsetHeight:0})(),s=window.scrollY+t.top-e-10;window.scrollTo({top:s,behavior:"smooth"})}}),300)})),window.addEventListener("resize",(()=>{"true"===e.dataset.open&&parseInt(i.style.maxHeight)!==i.scrollHeight&&(i.style.maxHeight=`${i.scrollHeight}px`)})))}))})(".main--faq__item",".main--faq__item--button",".main--faq__item--answer");const p=document.querySelectorAll(".main--header__info"),y=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("visible")}))}),{threshold:.2});p.forEach((e=>y.observe(e)));const f=document.querySelectorAll(".main--adv__wrapper .item, .main--adv .h2, .main--services .h2, .main--services .subtitle, .main--services__wrapper"),E=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.2});f.forEach((e=>E.observe(e)));const w=document.querySelectorAll(".main--companies"),b=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.2});w.forEach((e=>b.observe(e)))}));