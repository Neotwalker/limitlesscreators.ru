"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".cookies"),t=document.querySelector(".cookies--button");e&&t&&(localStorage.getItem("cookieConsent")||e.classList.add("active"),t.addEventListener("click",(()=>{localStorage.setItem("cookieConsent","true"),e.classList.remove("active")})));const s=document.querySelector(".header"),o=document.querySelector(".top"),c=document.querySelector(".modal"),n=document.querySelector(".modal--send"),i=window.innerWidth-document.documentElement.clientWidth,l=document.querySelector(".burger"),a=document.querySelector(".header--menu"),r=document.querySelector(".header--menu .menu");if(s&&o){const b=()=>{s.classList.toggle("scroll",window.scrollY>40),o.classList.toggle("scroll",window.scrollY>500)};b(),window.addEventListener("load",b),window.addEventListener("scroll",b),o.addEventListener("click",(()=>window.scrollTo({top:0,behavior:"smooth"})))}function d(){l.classList.remove("active"),a.classList.remove("open"),r.classList.remove("active"),c?.classList.contains("active")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight=""),window.innerWidth<=1200&&document.querySelectorAll(".sub-menu").forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")}))}if(l&&a&&r&&s){function q(){document.querySelectorAll(".header--menu .menu-item-has-children").forEach((e=>{e.removeEventListener("touchend",S),e.removeEventListener("click",S),window.innerWidth<=1200&&e.addEventListener("touchend",S)}))}function S(e){e.stopPropagation();const t=this.querySelector(".sub-menu");if(t)if(t.classList.contains("active")){const t=e.target.closest("a");t&&(window.location.href=t.href)}else e.preventDefault(),function(e,t){if(window.innerWidth>1200)return e.classList.toggle("active"),void t.classList.toggle("active");const s=e.classList.contains("active"),o=t.closest(".sub-menu"),c=o?o.querySelectorAll(".sub-menu.active"):r.querySelectorAll(".sub-menu.active"),n=o?o.querySelectorAll(".menu-item-has-children.active"):r.querySelectorAll(".menu-item-has-children.active");c.forEach((e=>{e.classList.remove("active")})),n.forEach((e=>{e.classList.remove("active")})),e.classList.toggle("active",!s),t.classList.toggle("active",!s)}(t,this)}l.addEventListener("click",(e=>{e.stopPropagation(),function(){const e=!a.classList.contains("open");a.classList.toggle("open"),l.classList.toggle("active"),r.classList.toggle("active",e),e?(document.documentElement.classList.add("overflow"),i>0&&(s.style.paddingRight=`${i}px`,document.body.style.paddingRight=`${i}px`)):c?.classList.contains("active")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight=""),window.innerWidth<=1200&&document.querySelectorAll(".sub-menu").forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")}))}()})),document.querySelectorAll(".header--menu .menu li a").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),console.log("Link clicked:",e.getAttribute("href")),e.getAttribute("href").startsWith("#")?d():window.location.href=e.getAttribute("href")}))})),q(),window.addEventListener("resize",(()=>{const e=document.querySelectorAll(".sub-menu.active");window.innerWidth>1200?(e.forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")})),r.classList.remove("active")):a.classList.contains("open")&&r.classList.add("active"),q()}))}c&&s&&(document.querySelectorAll(".modal--open").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".modal--general")?.classList.add("active"),document.documentElement.classList.add("overflow"),i>0&&(s.style.paddingRight=`${i}px`,document.body.style.paddingRight=`${i}px`)}))})),document.querySelectorAll(".modal--close").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),console.log("Closing modal, headerMenu open:",a?.classList.contains("open")),c.classList.remove("active"),n?.classList.remove("active"),a?.classList.contains("open")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight="")}))}))),document.addEventListener("click",(e=>{!c?.classList.contains("active")||e.target.closest(".modal--open")||e.target.closest(".modal .modal--wrapper")||e.target.closest(".modal .modal--close")||(console.log("Click outside modal, headerMenu open:",a?.classList.contains("open")),c.classList.remove("active"),n?.classList.remove("active"),a?.classList.contains("open")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight="")),!l?.classList.contains("active")||e.target.closest(".header--menu")||e.target.closest(".burger")||e.target.closest(".modal")||(console.log("Closing burger menu"),d()),window.innerWidth<=1200&&a?.classList.contains("open")&&!e.target.closest(".header--menu")&&!e.target.closest(".modal")&&document.querySelectorAll(".sub-menu.active").forEach((e=>{e.classList.remove("active");const t=e.closest(".menu-item-has-children");t&&t.classList.remove("active")}))}));document.querySelectorAll('input[name="fio"], input[name="fio1"]').forEach((e=>{e.addEventListener("keyup",(()=>{e.value=e.value.replace(/http|https|url|www|\.net|\.ru|\.com|[0-9]/gi,"")}))}));const u=document.querySelectorAll(".wpcf7-tel"),m=e=>{const t=e.target,s=t.dataset.phoneClear,o=t.dataset.phonePattern||"+_(___) ___-__-__",c=o.replace(/\D/g,"");let n=t.value.replace(/\D/g,"");if("false"!==s&&"blur"===e.type&&n.length<o.match(/[\_\d]/g).length)return void(t.value="");c.length>=n.length&&(n=c);let i=0;t.value=o.replace(/./g,(e=>/[_\d]/.test(e)&&i<n.length?n.charAt(i++):i>=n.length?"":e))};u.forEach((e=>["input","blur","focus"].forEach((t=>e.addEventListener(t,m)))));const v=(e,t)=>{const s=document.getElementById(e),o=document.querySelector(t);s&&o&&(o.setAttribute("disabled","disabled"),s.addEventListener("change",(()=>{o.toggleAttribute("disabled",!s.checked)})))};v("check",".modal--general button"),v("check1",".main--contacts__left form button"),document.querySelectorAll(".wpcf7-form").forEach((e=>{e.addEventListener("submit",(()=>{document.addEventListener("wpcf7mailsent",(t=>{e.querySelector(".cf7sg-response-output")?.style.setProperty("display","none"),document.querySelectorAll(".modal").forEach((e=>e.classList.remove("active"))),n&&(n.classList.add("active"),setTimeout((()=>{n.classList.remove("active"),a?.classList.contains("open")||(document.documentElement.classList.remove("overflow"),s.style.paddingRight="",document.body.style.paddingRight="")}),5e3)),e.querySelector(".wpcf7-submit")?.setAttribute("disabled","disabled"),e.reset()}),{once:!0})}))})),window.innerWidth<=768&&document.querySelectorAll(".footer--menu").forEach(((e,t)=>{const s=e.querySelector(".h3"),o=e.querySelector(".menu");s&&o&&(0===t&&(e.classList.add("active"),o.style.maxHeight=`${o.scrollHeight}px`),s.addEventListener("click",(()=>{document.querySelectorAll(".footer--menu").forEach((t=>{t!==e&&(t.classList.remove("active"),t.querySelector(".menu").style.maxHeight=null)})),e.classList.toggle("active"),o.style.maxHeight=e.classList.contains("active")?`${o.scrollHeight}px`:null})))}));const h=document.querySelectorAll(".main--cases__tags .tag"),g=document.querySelectorAll(".main--cases__block");h.length&&g.length&&h.forEach((e=>{e.addEventListener("click",(()=>{h.forEach((e=>e.classList.remove("active"))),e.classList.add("active");const t=e.getAttribute("data-filter");g.forEach(((e,s)=>{e.classList.toggle("active","*"===t?0===s:e.getAttribute("data-type")===t)}))}))}));((e,t,s)=>{const o=document.querySelectorAll(e);if(!o.length)return;const c=o[0],n=c.querySelector(t),i=c.querySelector(s);n&&i&&(c.classList.add("active"),n.classList.add("active"),c.dataset.open="true",i.style.maxHeight=`${i.scrollHeight}px`);o.forEach((e=>{const c=e.querySelector(t),n=e.querySelector(s);c&&n&&(c.addEventListener("click",(()=>{const i="true"===e.dataset.open;o.forEach((o=>{o!==e&&(o.dataset.open="false",o.classList.remove("active"),o.querySelector(t)?.classList.remove("active"),o.querySelector(s).style.maxHeight="")})),e.dataset.open=i?"false":"true",e.classList.toggle("active",!i),c.classList.toggle("active",!i),n.style.maxHeight=i?"":`${n.scrollHeight}px`,i||setTimeout((()=>{const t=e.getBoundingClientRect();if(!(t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight))){const e=(()=>{const e=document.querySelector(".header");return e?e.offsetHeight:0})(),s=window.scrollY+t.top-e-10;window.scrollTo({top:s,behavior:"smooth"})}}),300)})),window.addEventListener("resize",(()=>{"true"===e.dataset.open&&parseInt(n.style.maxHeight)!==n.scrollHeight&&(n.style.maxHeight=`${n.scrollHeight}px`)})))}))})(".main--faq__item",".main--faq__item--button",".main--faq__item--answer");const L=document.querySelectorAll(".main--header__info"),p=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("visible")}))}),{threshold:.2});L.forEach((e=>p.observe(e)));const y=document.querySelectorAll(".main--adv__wrapper .item, .main--adv .h2, .main--services .h2, .main--services .subtitle, .main--services__wrapper"),f=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.2});y.forEach((e=>f.observe(e)));const w=document.querySelectorAll(".main--companies"),E=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.2});w.forEach((e=>E.observe(e)))}));