"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".top"),t=document.querySelector(".header");window.addEventListener("scroll",(function(){window.scrollY>40?t.classList.add("scroll"):t.classList.remove("scroll"),window.scrollY>500?e.classList.add("scroll"):e.classList.remove("scroll")})),e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));const s=document.querySelectorAll(".main--idea__button"),c=document.querySelectorAll(".main--idea__text");s[0]&&s[0].classList.add("active"),c[0]&&c[0].classList.add("active"),s.forEach((function(e,t){e.addEventListener("click",(function(){s.forEach((e=>e.classList.remove("active"))),c.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),c[t].classList.add("active")}))}));((e,t,s)=>{const c=document.querySelectorAll(e);if(!c.length)return;const o=c[0],l=o.querySelector(t),a=o.querySelector(s);o.classList.add("active"),l.classList.add("active"),o.dataset.open="true",a.style.maxHeight=`${a.scrollHeight}px`,c.forEach((e=>{const o=e.querySelector(t),l=e.querySelector(s);o.addEventListener("click",(()=>{"true"!==e.dataset.open?(c.forEach((c=>{c!==e&&(c.dataset.open="false",c.classList.remove("active"),c.querySelector(t).classList.remove("active"),c.querySelector(s).style.maxHeight="")})),e.dataset.open="true",o.classList.add("active"),e.classList.add("active"),l.style.maxHeight=`${l.scrollHeight}px`):(e.dataset.open="false",e.classList.remove("active"),o.classList.remove("active"),l.style.maxHeight="")}));window.addEventListener("resize",(()=>{"true"===e.dataset.open&&parseInt(l.style.maxHeight)!==l.scrollHeight&&(l.style.maxHeight=`${l.scrollHeight}px`)}))}))})(".main--faq__item",".main--faq__item--button",".main--faq__item--answer");let o=document.querySelectorAll(".modal--open"),l=document.querySelector(".modal");o.forEach((e=>{let t=document.querySelector(".modal--general");e.addEventListener("click",(e=>{e.preventDefault(),t.classList.add("active"),document.body.classList.add("overflow"),document.documentElement.classList.add("overflow")}))}));let a=document.querySelectorAll(".modal--openBrief"),r=document.querySelector(".modal--brief");a.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),r.classList.add("active"),document.body.classList.add("overflow"),document.documentElement.classList.add("overflow")}))})),document.querySelectorAll(".modal--close").forEach((e=>{e.addEventListener("click",(()=>{l.classList.remove("active"),r.classList.remove("active"),document.body.classList.remove("overflow"),document.documentElement.classList.remove("overflow")}))}));const i=document.querySelector(".burger"),n=document.querySelector(".header--menu"),d=document.querySelector(".header--menu .menu"),u=document.querySelectorAll(".header--menu .menu li a");i.addEventListener("click",(()=>{d.classList.toggle("active"),n.classList.toggle("open"),i.classList.toggle("active"),d.classList.contains("active")?d.style.maxHeight=`${d.scrollHeight}px`:d.style.maxHeight=null,u.forEach((e=>{e.addEventListener("click",(e=>{i.classList.remove("active"),n.classList.remove("open"),d.classList.remove("active"),d.style.maxHeight=null}))}))})),document.addEventListener("click",(e=>{l.classList.contains("active")&&(e.target.closest(".modal--open")||e.target.closest(".modal .modal--wrapper")||e.target.closest(".modal .modal--close")||(l.classList.remove("active"),document.body.classList.remove("overflow"),document.documentElement.classList.remove("overflow"))),r.classList.contains("active")&&(e.target.closest(".modal--openBrief")||e.target.closest(".modal--brief .modal--wrapper")||e.target.closest(".modal--brief .modal--close")||(r.classList.remove("active"),document.body.classList.remove("overflow"),document.documentElement.classList.remove("overflow"))),i.classList.contains("active")&&(e.target.closest(".header--menu")||e.target.closest(".burger")||(i.classList.remove("active"),d.classList.remove("active"),d.style.maxHeight=null,n.classList.remove("open")))}));const m=document.querySelector('input[name="fio"]'),v=document.querySelector('input[name="fio1"]');m&&m.addEventListener("keyup",(function(){this.value=this.value.replace(/http|www|.ru|.com|[0-9]/g,"")})),v&&v.addEventListener("keyup",(function(){this.value=this.value.replace(/http|www|.ru|.com|[0-9]/g,"")}));let L=function(e){let t=e.target,s=t.dataset.phoneClear,c=t.dataset.phonePattern,o=c||"+_(___) ___-__-__",l=0,a=o.replace(/\D/g,""),r=e.target.value.replace(/\D/g,"");"false"!==s&&"blur"===e.type&&r.length<o.match(/([\_\d])/g).length?e.target.value="":(a.length>=r.length&&(r=a),e.target.value=o.replace(/./g,(function(e){return/[_\d]/.test(e)&&l<r.length?r.charAt(l++):l>=r.length?"":e})))},f=document.querySelectorAll(".wpcf7-tel");for(let e of f)for(let t of["input","blur","focus"])e.addEventListener(t,L);window.onload=function(){const e=document.getElementById("check"),t=document.querySelector(".modal--general button");t&&t.setAttribute("disabled","disabled"),e&&e.addEventListener("change",(function(){this.checked?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")}));const s=document.getElementById("check2"),c=document.querySelector(".modal--brief button");c&&c.setAttribute("disabled","disabled"),s&&s.addEventListener("change",(function(){this.checked?c.removeAttribute("disabled"):c.setAttribute("disabled","disabled")}));const o=document.getElementById("check1"),l=document.querySelector(".main--contacts__left form .button--gradient");l&&l.setAttribute("disabled","disabled"),o&&o.addEventListener("change",(function(){this.checked?l.removeAttribute("disabled"):l.setAttribute("disabled","disabled")}))},document.querySelectorAll(".wpcf7-form").forEach((function(e){e.addEventListener("submit",(function(t){document.addEventListener("wpcf7mailsent",(function(t){let s=e.querySelector(".cf7sg-response-output");s&&(s.style.display="none"),document.querySelectorAll(".modal").forEach((e=>{e.classList.remove("active")}));let c=document.querySelector(".modal--send");c.classList.add("active"),setTimeout((function(){c.classList.remove("active"),document.body.classList.remove("overflow"),document.documentElement.classList.remove("overflow")}),5e3),e.querySelector(".wpcf7-submit").setAttribute("disabled","disabled"),e.reset()}),!1)}))}))}));